[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Les statistiques avec R",
    "section": "",
    "text": "Préface\nCeci est un livre Quarto.\nPour en apprendre davantage sur Quarto, visitez https://quarto.org/docs/books.",
    "crumbs": [
      "Préface"
    ]
  },
  {
    "objectID": "combinatoire.html",
    "href": "combinatoire.html",
    "title": "1  La combinatoire",
    "section": "",
    "text": "1.1 La factorielle\nPour calculer la factorielle d’un nombre en R, il faut utiliser la commande factorial. Par exemple, si nous voulons calculer 6!:\nfactorial(6)\n#&gt; [1] 720",
    "crumbs": [
      "Les probabilités et la combinatoire",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>La combinatoire</span>"
    ]
  },
  {
    "objectID": "combinatoire.html#les-combinaisons",
    "href": "combinatoire.html#les-combinaisons",
    "title": "1  La combinatoire",
    "section": "1.2 Les combinaisons",
    "text": "1.2 Les combinaisons\nPour calculer le nombre de combinaisons lorsque nous choisissons \\(k\\) objets parmi \\(n\\) (sans ordre), c’est-à-dire \\(C_k^n\\), nous utilisons la commande choose(n,k). Par exemple, si nous voulons calculer le nombre de combinaisons possibles au loto 6-49, \\(C_6^{49}\\), nous avons:\n\nchoose(49,6)\n#&gt; [1] 13983816",
    "crumbs": [
      "Les probabilités et la combinatoire",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>La combinatoire</span>"
    ]
  },
  {
    "objectID": "combinatoire.html#les-arrangements",
    "href": "combinatoire.html#les-arrangements",
    "title": "1  La combinatoire",
    "section": "1.3 Les arrangements",
    "text": "1.3 Les arrangements\nPour calculer le nombre d’arrangements lorsque nous choisissons \\(k\\) objets parmi \\(n\\) (avec ordre), c’est-à-dire \\(A_k^n\\), nous utilisons les commandes choose(n,k) et factorial. En effet, nous savons que:\n\\[\\begin{equation}\nA_k^n = C_k^n \\cdot k!\n\\end{equation}\\]\net donc on peut calculer un arrangement en effectuant choose(n,k)*factorial(k). Si nous voulons calculer le nombre de comités de 5 personnes nous pouvons former en choisissant parmi 12 personnes, \\(A_5^{12}\\), nous avons:\n\nchoose(12,5)*factorial(5)\n#&gt; [1] 95040",
    "crumbs": [
      "Les probabilités et la combinatoire",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>La combinatoire</span>"
    ]
  },
  {
    "objectID": "lois_probabilites.html",
    "href": "lois_probabilites.html",
    "title": "2  Les lois de probabilités",
    "section": "",
    "text": "2.1 Les lois de probabilités discrètes",
    "crumbs": [
      "Les probabilités et la combinatoire",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Les lois de probabilités</span>"
    ]
  },
  {
    "objectID": "lois_probabilites.html#les-lois-de-probabilités-discrètes",
    "href": "lois_probabilites.html#les-lois-de-probabilités-discrètes",
    "title": "2  Les lois de probabilités",
    "section": "",
    "text": "2.1.1 La loi binomiale\nLe nom racine pour la loi binomiale est binom.\nSoit \\(X\\): le nombre de succès en \\(n\\) essais et \\(X\\sim B(n,p)\\). Voici la façon de calculer des probabilités pour la loi binomiale à l’aide de R:\n\n\n\nProbabilités\nCommande R\n\n\n\n\n\\(P(X=k)\\)\ndbinom(k, n, p)\n\n\n\\(P(i\\leq X \\leq j)\\)\nsum(dbinom(i:j, n, p))\n\n\n\\(P(X\\leq k)\\)\npbinom(k, n, p)\n\n\n\\(P(X&gt;k)\\)\n1-pbinom(k, n, p)\n\n\n\nSoit \\(X\\) la variable aléatoire comptant le nombre de face 2 que nous obtenons en lançant un dé à quatre reprises. Nous avons que \\(X\\sim B(4,\\frac{1}{6})\\). Si nous voulons calculer \\(P(X=3)\\), nous aurons:\n\ndbinom(3,4,1/6)\n#&gt; [1] 0.0154321\n\nNous avons donc une probabilité de 1.5432099% d’obtenir 3 fois la face deux en lançant un dé à quatres reprises.\n\n\n2.1.2 La loi de Poisson\nLe nom racine pour la loi de Poisson est pois.\nSoit \\(X\\): le nombre d’événements dans un intervalle fixé et \\(X\\sim Po(\\lambda)\\). Voici la façon de calculer des probabilités pour la loi de Poisson à l’aide de R:\n\n\n\nProbabilités\nCommande R\n\n\n\n\n\\(P(X=k)\\)\ndpois(k, lambda)\n\n\n\\(P(i\\leq X \\leq j)\\)\nsum(dpois(i:j, lambda))\n\n\n\\(P(X\\leq k)\\)\nppois(k, lambda)\n\n\n\\(P(X&gt;k)\\)\n1-ppois(k, lambda)\n\n\n\nSoit \\(X\\) le nombre d’erreurs dans une page. Si une page contient en moyenne une demie erreur alors \\(X\\sim Po(1/2)\\). Si nous voulons calculer \\(P(X=2)\\), nous aurons:\n\ndpois(2, 1/2)\n#&gt; [1] 0.07581633\n\nNous avons donc une probabilité de 7.5816332% d’obtenir deux erreurs sur une page.\n\n\n2.1.3 La loi géométrique\nLe nom racine pour la loi géométrique est geom.\nSoit \\(X\\): le nombre d’échecs avant d’obtenir un succès et \\(X\\sim G(p)\\). Voici la façon de calculer des probabilités pour la loi géométrique à l’aide de R:\n\n\n\nProbabilités\nCommande R\n\n\n\n\n\\(P(X=k)\\)\ndgeom(k, p)\n\n\n\\(P(i\\leq X \\leq j)\\)\nsum(dgeom(i:j, p))\n\n\n\\(P(X\\leq k)\\)\npgeom(k, p)\n\n\n\\(P(X&gt;k)\\)\n1-pgeom(k, p)\n\n\n\nSoit \\(X\\) le nombre d’échecs avant d’avoir un premier succès. Si la probabilité de succès est \\(\\frac{1}{5}\\) alors \\(X\\sim G(1/5)\\). Si nous voulons calculer \\(P(X=6)\\), nous aurons:\n\ndgeom(6, 1/5)\n#&gt; [1] 0.0524288\n\nNous avons donc une probabilité de 5.24288% d’obtenir 6 échecs avant un premier succès.\n\nRemarque : Pour la loi géométrique, on rencontre parfois cette définition : la probabilité p’(k) est la probabilité, lors d’une succession d’épreuves de Bernoulli indépendantes, d’obtenir k échecs avant un succès. On remarque qu’il ne s’agit que d’un décalage de la précédente loi géométrique. Si \\(X\\) suit la loi \\(p\\), alors \\(X+1\\) suit la loi \\(p'\\).\n\n\n\n2.1.4 La loi hypergéométrique\nLe nom racine pour la loi hypergéométrique est hyper.\nOn tire sans remise \\(n\\) objets d’un ensemble de \\(N\\) objets dont \\(A\\) possèdent une caractéristique particulière (et les autres \\(B=N-A\\) ne la possèdent pas). Soit \\(X\\) le nombre d’objets de l’échantillon qui possèdent la caractéristique. Nous avons que \\(X\\sim H(N,A,n)\\).\nVoici la façon de calculer des probabilités pour la loi hypergéométrique à l’aide de R:\n\n\n\nProbabilités\nCommande R\n\n\n\n\n\\(P(X=k)\\)\ndhyper(k, A, B, n)\n\n\n\\(P(i\\leq X \\leq j)\\)\nsum(dhyper(i:j, A, B, n))\n\n\n\\(P(X\\leq k)\\)\nphyper(k, A, B, n)\n\n\n\\(P(X&gt;k)\\)\n1-phyper(k, A, B, n)\n\n\n\nSoit \\(X\\) le nombre de boules blanches de l’échantillon de taille 4. Si l’urne contient 5 boules blanches et 8 boules noires, nous avons \\(X\\sim H(13,5,4)\\). Si nous voulons calculer \\(P(X=2)\\), nous aurons:\n\ndhyper(2, 5, 8, 4)\n#&gt; [1] 0.3916084\n\nNous avons donc une probabilité de 39.1608392% de piger 2 boules blanches dans un échantillon de taille 4.",
    "crumbs": [
      "Les probabilités et la combinatoire",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Les lois de probabilités</span>"
    ]
  },
  {
    "objectID": "lois_probabilites.html#les-lois-de-probabilités-continues",
    "href": "lois_probabilites.html#les-lois-de-probabilités-continues",
    "title": "2  Les lois de probabilités",
    "section": "2.2 Les lois de probabilités continues",
    "text": "2.2 Les lois de probabilités continues\n\n2.2.1 La loi normale\nLe nom racine pour la loi normale est norm.\nSi \\(X\\) suit une loi normale de moyenne \\(\\mu\\) et de variance \\(\\sigma^2\\), nous avons \\(X\\sim N(\\mu,\\sigma^2)\\).\nVoici la façon de calculer des probabilités pour la loi normale à l’aide de R:\n\n\n\nProbabilités\nCommande R\n\n\n\n\n\\(P(i\\leq X \\leq j)\\)\npnorm(j, mu, sigma)-pnorm(i, mu, sigma)\n\n\n\\(P(X\\leq k)\\)\npnorm(k, mu, sigma)\n\n\n\\(P(X&gt;k)\\)\n1-pnorm(k, mu, sigma)\n\n\n\nSoit \\(X\\sim N(3,25)\\) une variable aléatoire suivant une loi normale de moyenne 3 et de variance 25. Si nous voulons calculer la probabilité \\(P(1.25&lt;X&lt;3.6)\\) en R, nous pouvons utiliser la commande suivante:\n\npnorm(3.6, 3, 5) - pnorm(1.25, 3, 5)\n#&gt; [1] 0.1845891\n\nLa probabilité que notre variable aléatoire se trouve entre 1.25 et 3.6 est donc 18.4589077 %.\n\n\n2.2.2 La loi de Student\nLe nom racine pour la loi de Student est t.\nSi \\(X\\) suit une loi de Student à \\(\\nu\\) degrés de liberté, nous avons \\(X\\sim T_{\\nu}\\).\nVoici la façon de calculer des probabilités pour la loi de Student à l’aide de R:\n\n\n\nProbabilités\nCommande R\n\n\n\n\n\\(P(i\\leq X \\leq j)\\)\npt(j, nu)-pt(i, nu)\n\n\n\\(P(X\\leq k)\\)\npt(k, nu)\n\n\n\\(P(X&gt;k)\\)\n1-pt(k, nu)\n\n\n\nSoit \\(X\\sim T_5\\) une variable aléatoire suivant une loi de Student à 5 degrés de liberté. Si nous voulons calculer la probabilité \\(P(X&gt;3)\\) en R, nous pouvons utiliser la commande suivante:\n\n1 - pt(3, 5)\n#&gt; [1] 0.01504962\n\nLa probabilité que notre variable aléatoire soit plus grande que 3 est donc 1.5049624 %.",
    "crumbs": [
      "Les probabilités et la combinatoire",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Les lois de probabilités</span>"
    ]
  },
  {
    "objectID": "tableaux.html",
    "href": "tableaux.html",
    "title": "3  Les tableaux",
    "section": "",
    "text": "3.1 Tableau de fréquences à une variable",
    "crumbs": [
      "Les statistiques descriptives",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Les tableaux</span>"
    ]
  },
  {
    "objectID": "tableaux.html#tableau-de-fréquences-à-une-variable",
    "href": "tableaux.html#tableau-de-fréquences-à-une-variable",
    "title": "3  Les tableaux",
    "section": "",
    "text": "3.1.1 Les variables qualitatives\nLe tableau de fréquences que nous utiliserons est le suivant:\n\n\n\n\n\n\n\n\nTitre\n\n\n\n\n\n\nNom de la variable\nNombre d’unités statistiques\nPourcentage d’unités statistiques (%)\n\n\n(Modalités)\n(Fréquences absolues)\n(Fréquences relatives)\n\n\nTotal\nn\n100%\n\n\n\n\nImportant : Le titre doit toujours être indiqué lors de la construction d’un tableau de fréquence.\n\nLorsque les données se trouvent dans une tibble dans R, il est possible d’utiliser la commande freq de la librairie questionr pour afficher le tableau de fréquences. La commande freq prend comme argument la variable dont vous voulez produire le tableau de fréquences. Pour obtenir une sortie adéquate, il faut ajouter trois options à la commande:\n\ncum = FALSE; permet de ne pas afficher les pourcentages cumulés\nvalid = FALSE; permet de ne pas afficher les données manquantes\ntotal = TRUE; permet d’afficher le total\n\nDans la base de données nycflights13::planes, nous allons afficher la variable engine, qui correspond au type de moteur de l’avion.\n\nfreq(planes$engine,cum = FALSE,valid = FALSE,total = TRUE)\n#&gt;                  n     %\n#&gt; 4 Cycle          2   0.1\n#&gt; Reciprocating   28   0.8\n#&gt; Turbo-fan     2750  82.8\n#&gt; Turbo-jet      535  16.1\n#&gt; Turbo-prop       2   0.1\n#&gt; Turbo-shaft      5   0.2\n#&gt; Total         3322 100.0\n\n\n\n3.1.2 Les variables quantitatives discrètes\nLe tableau de fréquences que nous utiliserons est le suivant :\n\n\n\n\n\n\n\n\n\nTitre\n\n\n\n\n\n\n\nNom de la variable\nNombre d’unités statistiques\nPourcentage d’unités statistiques (%)\nPourcentage cumulé\n\n\n(Valeurs)\n(Fréquences absolues)\n(Fréquences relatives)\n(Fréquences relatives cumulées)\n\n\nTotal\nn\n100%\n\n\n\n\nLe pourcentage cumulé permet de déterminer le pourcentage des répondants qui ont indiqué la valeur correspondante, ou une plus petite. Il sert à donner une meilleure vue d’ensemble.\n\nSi pour la valeur \\(x_i\\) de la variable \\(A\\) la pourcentage cumulé est de \\(b\\) %, ceci signifie que \\(b\\) % des valeurs de la variable \\(A\\) sont plus petites ou égales à \\(x_i\\).\n\nLa commande freq prend comme argument la variable dont vous voulez produire le tableau de fréquences. Pour obtenir une sortie adéquate, il faut ajouter trois options à la commande:\n\ncum = TRUE; permet d’afficher les pourcentages cumulés\nvalid = FALSE; permet de ne pas afficher les données manquantes\ntotal = TRUE; permet d’afficher le total\n\nDans la base de données nycflights13::planes, nous allons afficher la variable engines, qui correspond au nombre de moteurs de l’avion.\n\nfreq(planes$engines,cum = TRUE,valid = FALSE,total = TRUE)\n#&gt;          n     %  %cum\n#&gt; 1       27   0.8   0.8\n#&gt; 2     3288  99.0  99.8\n#&gt; 3        3   0.1  99.9\n#&gt; 4        4   0.1 100.0\n#&gt; Total 3322 100.0 100.0\n\nDans la base de données nycflights13::planes, nous allons afficher la variable seats, qui correspond au nombre de sièges de l’avion.\n\nfreq(planes$seats,cum = TRUE,valid = FALSE,total = TRUE)\n#&gt;          n     %  %cum\n#&gt; 2       16   0.5   0.5\n#&gt; 4        5   0.2   0.6\n#&gt; 5        2   0.1   0.7\n#&gt; 6        3   0.1   0.8\n#&gt; 7        2   0.1   0.8\n#&gt; 8        5   0.2   1.0\n#&gt; 9        1   0.0   1.0\n#&gt; 10       1   0.0   1.1\n#&gt; 11       2   0.1   1.1\n#&gt; 12       1   0.0   1.1\n#&gt; 14       1   0.0   1.2\n#&gt; 16       1   0.0   1.2\n#&gt; 20      80   2.4   3.6\n#&gt; 22       2   0.1   3.7\n#&gt; 55     390  11.7  15.4\n#&gt; 80      83   2.5  17.9\n#&gt; 95     123   3.7  21.6\n#&gt; 100    102   3.1  24.7\n#&gt; 102      1   0.0  24.7\n#&gt; 128      1   0.0  24.7\n#&gt; 139      8   0.2  25.0\n#&gt; 140    411  12.4  37.4\n#&gt; 142    158   4.8  42.1\n#&gt; 145     57   1.7  43.8\n#&gt; 147      3   0.1  43.9\n#&gt; 149    452  13.6  57.5\n#&gt; 172     81   2.4  60.0\n#&gt; 178    283   8.5  68.5\n#&gt; 179    134   4.0  72.5\n#&gt; 182    159   4.8  77.3\n#&gt; 189     73   2.2  79.5\n#&gt; 191     87   2.6  82.1\n#&gt; 199     43   1.3  83.4\n#&gt; 200    256   7.7  91.1\n#&gt; 222     13   0.4  91.5\n#&gt; 255     16   0.5  92.0\n#&gt; 260      4   0.1  92.1\n#&gt; 269      1   0.0  92.1\n#&gt; 275     25   0.8  92.9\n#&gt; 290      6   0.2  93.1\n#&gt; 292     16   0.5  93.6\n#&gt; 300     17   0.5  94.1\n#&gt; 330    114   3.4  97.5\n#&gt; 375      1   0.0  97.5\n#&gt; 377     14   0.4  98.0\n#&gt; 379     55   1.7  99.6\n#&gt; 400     12   0.4 100.0\n#&gt; 450      1   0.0 100.0\n#&gt; Total 3322 100.0 100.0\n\nComme nous pouvons le constater, le tableau est très grand car la variable seats possède 48 valeurs différentes.\n\n\n3.1.3 Les variables quantitatives continues\nLe tableau de fréquences que nous utiliserons est le suivant :\n\n\n\n\n\n\n\n\n\nTitre\n\n\n\n\n\n\n\nNom de la variable\nNombre d’unités statistiques\nPourcentage d’unités statistiques (%)\nPourcentage cumulé\n\n\n(Classes)\n(Fréquences absolues)\n(Fréquences relatives)\n(Fréquences relatives cumulées)\n\n\nTotal\nn\n100%\n\n\n\n\nPour être en mesure de briser une variable en classes, il faut utiliser la commande cut.\nLes options de cut sont:\n\ninclude.lowest = TRUE qui permet d’avoir un intervalle fermé à droite et ouvert à gauche;\nbreaks qui permet d’indiquer à quel endroit on doit créer les classes;\nseq(from = A, to = B, by = C) permet de créer un vecteur comportant les valeurs de A jusqu’à B en faisant des bonds de C.\n\nPour simplifier le code, nous créons en premier lieu une variable air_time_rec avec les classes et nous l’affichons ensuite avec freq. Remarquons que nous avons ajouté l’option valid = TRUE car certaines valeurs sont manquantes. Rappelons que les données manquantes sont représentées par NA en R. Deux colonnes sont ajoutées:\n\nval%: le pourcentage en omettant les valeurs manquantes\nval%cum: le pourcentage cumulé en omettant les valeurs manquantes\n\nNous obtenons donc:\n\nair_time_rec &lt;- cut(flights$air_time, \n                    right=FALSE,\n                    breaks=seq(from = 0, to = 700, by = 100))\nfreq(air_time_rec,cum = TRUE,total = TRUE,valid = TRUE)\n#&gt;                n     %  val%  %cum val%cum\n#&gt; [0,100)   105687  31.4  32.3  31.4    32.3\n#&gt; [100,200) 146527  43.5  44.8  74.9    77.0\n#&gt; [200,300)  31036   9.2   9.5  84.1    86.5\n#&gt; [300,400)  43347  12.9  13.2  97.0    99.8\n#&gt; [400,500)     48   0.0   0.0  97.0    99.8\n#&gt; [500,600)    132   0.0   0.0  97.0    99.8\n#&gt; [600,700)    569   0.2   0.2  97.2   100.0\n#&gt; NA          9430   2.8    NA 100.0      NA\n#&gt; Total     336776 100.0 100.0 100.0   100.0",
    "crumbs": [
      "Les statistiques descriptives",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Les tableaux</span>"
    ]
  },
  {
    "objectID": "tableaux.html#tableau-de-fréquences-à-deux-variables",
    "href": "tableaux.html#tableau-de-fréquences-à-deux-variables",
    "title": "3  Les tableaux",
    "section": "3.2 Tableau de fréquences à deux variables",
    "text": "3.2 Tableau de fréquences à deux variables\nFaire une analyse bivariée, c’est étudier la relation entre deux variables : sont-elles liées ? les valeurs de l’une influencent-elles les valeurs de l’autre ? ou sont-elles au contraire indépendantes ?\nÀ noter qu’on va parler ici d’influence ou de lien, mais pas de relation de cause à effet. Les outils présentés permettent de visualiser ou de déterminer une relation, mais la mise en évidence de liens de causalité proprement dit est nettement plus complexe : il faut en effet vérifier que c’est bien telle variable qui influence telle autre et pas l’inverse, qu’il n’y a pas de “variable cachée”, etc.\nLà encore, le type d’analyse ou de visualisation est déterminé par la nature qualitative ou quantitative des deux variables.\n\n3.2.1 Croisement de deux variables qualitatives\nOn continue à travailler avec le jeu de données tiré de l’enquête Histoire de vie inclus dans l’extension questionr. On commence donc par charger l’extension, le jeu de données, et à le renommer en un nom plus court pour gagner un peu de temps de saisie au clavier.\n\nlibrary(questionr)\ndata(hdv2003)\nd &lt;- hdv2003\n\nQuand on veut croiser deux variables qualitatives, on fait un tableau croisé. Comme pour un tri à plat ceci s’obtient avec la fonction table de R, mais à laquelle on passe cette fois deux variables en argument. Par exemple, si on veut croiser la catégorie socio-professionnelle et le sexe des enquêtés :\n\ntable(d$qualif, d$sexe)\n#&gt;                           \n#&gt;                            Homme Femme\n#&gt;   Ouvrier specialise          96   107\n#&gt;   Ouvrier qualifie           229    63\n#&gt;   Technicien                  66    20\n#&gt;   Profession intermediaire    88    72\n#&gt;   Cadre                      145   115\n#&gt;   Employe                     96   498\n#&gt;   Autre                       21    37\n\nPour pouvoir interpréter ce tableau on doit passer du tableau en effectifs au tableau en pourcentages ligne ou colonne. Pour cela, on peut utiliser les fonctions lprop et cprop de l’extension questionr, qu’on applique au tableau croisé précédent.\nPour calculer les pourcentages ligne :\n\ntab &lt;- table(d$qualif, d$sexe)\nlprop(tab)\n#&gt;                           \n#&gt;                            Homme Femme Total\n#&gt;   Ouvrier specialise        47.3  52.7 100.0\n#&gt;   Ouvrier qualifie          78.4  21.6 100.0\n#&gt;   Technicien                76.7  23.3 100.0\n#&gt;   Profession intermediaire  55.0  45.0 100.0\n#&gt;   Cadre                     55.8  44.2 100.0\n#&gt;   Employe                   16.2  83.8 100.0\n#&gt;   Autre                     36.2  63.8 100.0\n#&gt;   All                       44.8  55.2 100.0\n\nEt pour les pourcentages colonne :\n\ncprop(tab)\n#&gt;                           \n#&gt;                            Homme Femme All  \n#&gt;   Ouvrier specialise        13.0  11.7  12.3\n#&gt;   Ouvrier qualifie          30.9   6.9  17.7\n#&gt;   Technicien                 8.9   2.2   5.2\n#&gt;   Profession intermediaire  11.9   7.9   9.7\n#&gt;   Cadre                     19.6  12.6  15.7\n#&gt;   Employe                   13.0  54.6  35.9\n#&gt;   Autre                      2.8   4.1   3.5\n#&gt;   Total                    100.0 100.0 100.0",
    "crumbs": [
      "Les statistiques descriptives",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Les tableaux</span>"
    ]
  },
  {
    "objectID": "ggplot2.html",
    "href": "ggplot2.html",
    "title": "4  Les graphiques",
    "section": "",
    "text": "4.1 Initialisation\nUn graphique ggplot2 s’initialise à l’aide de la fonction ggplot(). Les données représentées graphiquement sont toujours issues d’un tableau de données (data frame ou tibble), qu’on passe en argument data à la fonction :\nggplot(data = rp)\n## Ou, équivalent\nggplot(rp)\nOn a défini la source de données, il faut maintenant ajouter des éléments de représentation graphique. Ces éléments sont appelés des geom, et on les ajoute à l’objet graphique de base avec l’opérateur +.\nUn des geom les plus simples est geom_histogram. On peut l’ajouter de la manière suivante :\nggplot(rp) +\n    geom_histogram()\nReste à indiquer quelle donnée nous voulons représenter sous forme d’histogramme. Cela se fait à l’aide d’arguments passés via la fonction aes(). Ici nous avons un paramètre à renseigner, x, qui indique la variable à représenter sur l’axe des x (l’axe horizontal). Ainsi, si on souhaite représenter la distribution des communes du jeu de données selon le pourcentage de cadres dans leur population active (variable cadres), on pourra faire :\nggplot(rp) +\n    geom_histogram(aes(x = cadres))\nSi on veut représenter une autre variable, il suffit de changer la valeur de x :\nggplot(rp) +\n    geom_histogram(aes(x = ouvr))\nCertains geom prennent plusieurs paramètres. Ainsi, si on veut représenter un nuage de points, on peut le faire en ajoutant un geom_point. On doit alors indiquer à la fois la position en x (la variable sur l’axe horizontal) et en y (la variable sur l’axe vertical) de ces points, il faut donc passer ces deux arguments à aes() :\nggplot(rp) +\n    geom_point(aes(x = dipl_sup, y = cadres))\nOn peut modifier certains attributs graphiques d’un geom en lui passant des arguments supplémentaires. Par exemple, pour un nuage de points, on peut modifier la couleur des points avec l’argument color, leur taille avec l’argument size, et leur transparence avec l’argument alpha :\nggplot(rp) +\n    geom_point(\n        aes(x = dipl_sup, y = cadres),\n        color = \"darkgreen\", size = 3, alpha = 0.3\n    )\nOn notera que dans ce cas les arguments sont dans la fonction geom mais à l’extérieur du aes(). Plus d’explications sur ce point dans quelques instants.",
    "crumbs": [
      "Les statistiques descriptives",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Les graphiques</span>"
    ]
  },
  {
    "objectID": "ggplot2.html#initialisation",
    "href": "ggplot2.html#initialisation",
    "title": "4  Les graphiques",
    "section": "",
    "text": "Note\n\n\n\nQuand on spécifie une variable, inutile d’indiquer le nom du tableau de données sous la forme rp$ouvr, car ggplot2 recherche automatiquement la variable dans le tableau de données indiqué avec le paramètre data. On peut donc se contenter de ouvr.",
    "crumbs": [
      "Les statistiques descriptives",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Les graphiques</span>"
    ]
  },
  {
    "objectID": "ggplot2.html#les-titres",
    "href": "ggplot2.html#les-titres",
    "title": "4  Les graphiques",
    "section": "4.2 Les titres",
    "text": "4.2 Les titres\nPour ajouter un titre à votre graphique et pour ajouter des titres à vos axes x et y, nous utilisons la commande labs().\n\nggplot(rp) +\n    geom_point(\n        aes(x = dipl_sup, y = cadres)\n    ) +\n    labs(\n        title = \"Un titre magnifique\",\n        x = \"Le nombre d'années de scolarité\",\n        y = \"Le pourcentage de cadres dans la population acitve\"\n    )",
    "crumbs": [
      "Les statistiques descriptives",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Les graphiques</span>"
    ]
  },
  {
    "objectID": "ggplot2.html#exemples-de-geom",
    "href": "ggplot2.html#exemples-de-geom",
    "title": "4  Les graphiques",
    "section": "4.3 Exemples de geom",
    "text": "4.3 Exemples de geom\nIl existe un grand nombre de geom, décrits en détail dans la documentation officielle. Outre les geom_histogram et geom_point que l’on vient de voir, on pourra noter les geom suivants.\n\n4.3.1 geom_boxplot\ngeom_boxplot permet de représenter des boîtes à moustaches. On lui passe en y la variable numérique dont on veut étudier la répartition, et en x la variable qualitative contenant les classes qu’on souhaite comparer. Ainsi, si on veut comparer la répartition du pourcentage de maisons en fonction du département de la commune, on pourra faire :\n\nggplot(rp) +\n    geom_boxplot(aes(x = departement, y = maison))\n\n\n\n\n\n\n\n\nOn peut personnaliser la présentation avec différents argument supplémentaires comme fill ou color :\n\nggplot(rp) +\n    geom_boxplot(\n        aes(x = departement, y = maison),\n        fill = \"wheat\", color = \"tomato4\"\n    )\n\n\n\n\n\n\n\n\nUn autre argument utile, varwidth, permet de faire varier la largeur des boîtes en fonction des effectifs de la classe (donc, ici, en fonction du nombre de communes de chaque département) :\n\nggplot(rp) +\n    geom_boxplot(\n        aes(x = departement, y = maison), \n        varwidth = TRUE)\n\n\n\n\n\n\n\n\n\n\n4.3.2 geom_violin\ngeom_violin est très semblable à geom_boxplot, mais utilise des graphes en violon à la place des boîtes à moustache.\n\nggplot(rp) +\n    geom_violin(aes(x = departement, y = maison))\n\n\n\n\n\n\n\n\nLes graphes en violon peuvent donner une lecture plus fine des différences de distribution selon les classes. Comme pour les graphiques de densité, on peut faire varier le niveau de “détail” de la représentation en utilisant l’argument bw (bande passante).\n\nggplot(rp) +\n    geom_violin(\n        aes(x = departement, y = maison),\n        bw = 2\n    )\n\n\n\n\n\n\n\n\n\n\n4.3.3 geom_bar et geom_col\ngeom_bar permet de produire un graphique en bâtons (barplot). On lui passe en x la variable qualitative dont on souhaite représenter l’effectif de chaque modalité.\nPar exemple, si on veut afficher le nombre de communes de notre jeu de données pour chaque département :\n\nggplot(rp) +\n    geom_bar(aes(x = departement))\n\n\n\n\n\n\n\n\nSi on préfère avoir un graphique en barres horizontales, il suffit de passer la variable comme attribut y plutôt que x.\n\nggplot(rp) +\n    geom_bar(aes(y = departement))\n\n\n\n\n\n\n\n\nUne autre possibilité est d’utiliser coord_flip(), qui permet d’intervertir l’axe horizontal et l’axe vertical.\n\nggplot(rp) +\n    geom_bar(aes(x = departement)) +\n    coord_flip()\n\n\n\n\n\n\n\n\nÀ noter que coord_flip() peut s’appliquer à n’importe quel graphique ggplot2.\n\n\n4.3.4 geom_histogram\ngeom_histogram permet de représenter des histogrammes. On lui passe en x la variable quantitative dont on souhiate étudier la répartition.\n\nggplot(rp) +\n    geom_histogram(aes(x = cadres))\n#&gt; `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\nOn peut utiliser différents arguments, comme par exemple binwidth pour spécifier la largeur des rectangles de notre histogramme.\n\nggplot(rp) +\n    geom_histogram(aes(x = cadres), binwidth = 5)\n\n\n\n\n\n\n\n\n\n\n4.3.5 geom_freqpoly\ngeom_freqpoly permet d’afficher le polygone de fréquences d’une variable numérique. Son usage est similaire à celui de geom_histogram.\nAinsi, si on veut afficher le polygone de fréquences de la part des cadres dans les communes de notre jeu de données :\n\nggplot(rp) +\n    geom_freqpoly(aes(x = cadres))\n#&gt; `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\nOn peut utiliser différents arguments pour ajuster le calcul de l’estimation de densité, parmi lesquels kernel et bw (voir la page d’aide de la fonction density pour plus de détails). bw (abbréviation de bandwidth, bande passante) permet de régler la “finesse” de l’estimation de densité, un peu comme le choix du nombre de classes dans un histogramme :\n\nggplot(rp) +\n    geom_freqpoly(aes(x = cadres), binwidth = 5)\n\n\n\n\n\n\n\n\n\n\n4.3.6 geom_line\ngeom_line trace des lignes connectant les différentes observations entre elles. Il est notamment utilisé pour la représentation de séries temporelles. On passe à geom_line deux paramètres : x et y. Les observations sont alors connectées selon l’ordre des valeurs passées en x.\nComme il n’y a pas de données adaptées pour ce type de représentation dans notre jeu de données d’exemple, on va utiliser ici le jeu de données economics inclus dans ggplot2 et représenter l’évolution du taux de chômage aux États-Unis (variable unemploy) dans le temps (variable date) :\n\ndata(\"economics\")\neconomics\n#&gt; # A tibble: 574 × 6\n#&gt;    date         pce    pop psavert uempmed unemploy\n#&gt;    &lt;date&gt;     &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;\n#&gt;  1 1967-07-01  507. 198712    12.6     4.5     2944\n#&gt;  2 1967-08-01  510. 198911    12.6     4.7     2945\n#&gt;  3 1967-09-01  516. 199113    11.9     4.6     2958\n#&gt;  4 1967-10-01  512. 199311    12.9     4.9     3143\n#&gt;  5 1967-11-01  517. 199498    12.8     4.7     3066\n#&gt;  6 1967-12-01  525. 199657    11.8     4.8     3018\n#&gt;  7 1968-01-01  531. 199808    11.7     5.1     2878\n#&gt;  8 1968-02-01  534. 199920    12.3     4.5     3001\n#&gt;  9 1968-03-01  544. 200056    11.7     4.1     2877\n#&gt; 10 1968-04-01  544  200208    12.3     4.6     2709\n#&gt; # ℹ 564 more rows\n\n\nggplot(economics) +\n    geom_line(aes(x = date, y = unemploy))",
    "crumbs": [
      "Les statistiques descriptives",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Les graphiques</span>"
    ]
  },
  {
    "objectID": "ggplot2.html#mappages",
    "href": "ggplot2.html#mappages",
    "title": "4  Les graphiques",
    "section": "4.4 Mappages",
    "text": "4.4 Mappages\nUn mappage, dans ggplot2, est une mise en relation entre un attribut graphique du geom (position, couleur, taille…) et une variable du tableau de données.\nCes mappages sont passés aux différents geom via la fonction aes() (abbréviation d’aesthetic).\n\n4.4.1 Exemples de mappages\nOn a déjà vu les mappages x et y pour un nuage de points. Ceux-ci signifient que la position d’un point donné horizontalement (x) et verticalement (y) dépend de la valeur des variables passées comme arguments x et y dans aes().\n\nggplot(rp) +\n    geom_point(\n        aes(x = dipl_sup, y = cadres)\n    )\n\n\n\n\n\n\n\n\nMais on peut ajouter d’autres mappages. Par exemple, color permet de faire varier la couleur des points automatiquement en fonction des valeurs d’une troisième variable. Ainsi, on peut vouloir colorer les points selon le département de la commune correspondante.\n\nggplot(rp) +\n    geom_point(\n        aes(x = dipl_sup, y = cadres, color = departement)\n    )\n\n\n\n\n\n\n\n\nOn peut aussi faire varier la taille des points avec size. Ici, la taille dépend de la population totale de la commune :\n\nggplot(rp) +\n    geom_point(\n        aes(x = dipl_sup, y = cadres, color = departement, size = pop_tot)\n    )\n\n\n\n\n\n\n\n\nOn peut même associer la transparence des points à une variable avec alpha :\n\nggplot(rp) +\n    geom_point(\n        aes(x = dipl_sup, y = cadres, color = departement, size = pop_tot, alpha = maison)\n    )\n\n\n\n\n\n\n\n\nChaque geom possède sa propre liste de mappages.\n\n\n4.4.2 aes() or not aes() ?\nComme on l’a déjà vu, parfois on souhaite changer un attribut sans le relier à une variable : c’est le cas par exemple si on veut représenter tous les points en rouge. Dans ce cas on utilise toujours l’attribut color, mais comme il ne s’agit pas d’un mappage, on le définit à l’extérieur de la fonction aes().\n\nggplot(rp) +\n    geom_point(\n        aes(x = dipl_sup, y = cadres),\n        color = \"red\"\n    )\n\n\n\n\n\n\n\n\nPar contre, si on veut faire varier la couleur en fonction des valeurs prises par une variable, on réalise un mappage, et on doit donc placer l’attribut color à l’intérieur de aes().\n\nggplot(rp) +\n    geom_point(\n        aes(x = dipl_sup, y = cadres, color = departement)\n    )\n\n\n\n\n\n\n\n\nOn peut mélanger attributs liés à une variable (mappage, donc dans aes()) et attributs constants (donc à l’extérieur). Dans l’exemple suivant, la taille varie en fonction de la variable pop_tot, mais la couleur est constante pour tous les points.\n\nggplot(rp) +\n    geom_point(\n        aes(x = dipl_sup, y = cadres, size = pop_tot),\n        color = \"royalblue\"\n    )\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAvertissement\n\n\n\nLa règle est donc simple mais très importante :\nSi on établit un lien entre les valeurs d’une variable et un attribut graphique, on définit un mappage, et on le déclare dans aes(). Sinon, on modifie l’attribut de la même manière pour tous les points, et on le définit en-dehors de la fonction aes().\n\n\n\n\n4.4.3 geom_bar et position\nUn des mappages possibles de geom_bar est l’attribut fill, qui permet de tracer des barres de couleur différentes selon les modalités d’une deuxième variable :\n\nggplot(rp) +\n    geom_bar(aes(x = departement, fill = pop_cl))\n\n\n\n\n\n\n\n\nL’attribut position de geom_bar permet d’indiquer comment les différentes barres doivent être positionnées. Par défaut l’argument vaut position = \"stack\" et elles sont donc “empilées”. Mais on peut préciser position = \"dodge\" pour les mettre côte à côte.\n\nggplot(rp) +\n    geom_bar(\n        aes(x = departement, fill = pop_cl),\n        position = \"dodge\"\n    )\n\n\n\n\n\n\n\n\nOu encore position = \"fill\" pour représenter non plus des effectifs, mais des proportions.\n\nggplot(rp) +\n    geom_bar(\n        aes(x = departement, fill = pop_cl),\n        position = \"fill\"\n    )\n\n\n\n\n\n\n\n\nLà encore, on peut utiliser coord_flip() si on souhaite une visualisation avec des barres horizontales.\n\nggplot(rp) +\n    geom_bar(\n        aes(x = departement, fill = pop_cl),\n        position = \"fill\"\n    ) +\n    coord_flip()",
    "crumbs": [
      "Les statistiques descriptives",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Les graphiques</span>"
    ]
  },
  {
    "objectID": "ggplot2.html#représentation-de-plusieurs-geom",
    "href": "ggplot2.html#représentation-de-plusieurs-geom",
    "title": "4  Les graphiques",
    "section": "4.5 Représentation de plusieurs geom",
    "text": "4.5 Représentation de plusieurs geom\nOn peut représenter plusieurs geom simultanément sur un même graphique, il suffit de les ajouter à tour de rôle avec l’opérateur +.\nPar exemple, on peut superposer la position des points au-dessus d’un boxplot. On va pour cela ajouter un geom_point après avoir ajouté notre geom_boxplot.\n\nggplot(rp) +\n    geom_boxplot(aes(x = departement, y = maison)) +\n    geom_point(\n        aes(x = departement, y = maison),\n        col = \"red\", alpha = 0.2\n    )\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nQuand une commande ggplot2 devient longue, il peut être plus lisible de la répartir sur plusieurs lignes. Dans ce cas, il faut penser à placer l’opérateur + en fin de ligne, afin que R comprenne que la commande n’est pas complète et qu’il prenne en compte la suite.\n\n\nPour un résultat un peu plus lisible, on peut remplacer geom_point par geom_jitter, qui disperse les points horizontalement et facilite leur visualisation.\n\nggplot(rp) +\n    geom_boxplot(aes(x = departement, y = maison)) +\n    geom_jitter(\n        aes(x = departement, y = maison),\n        col = \"red\", alpha = 0.2\n    )\n\n\n\n\n\n\n\n\nPour simplifier un peu le code, plutôt que de déclarer les mappages dans chaque geom, on peut les déclarer dans l’appel à ggplot(). Ils seront automatiquement “hérités” par les geom ajoutés (sauf s’ils redéfinissent les mêmes mappages).\n\nggplot(rp, aes(x = departement, y = maison)) +\n    geom_boxplot() +\n    geom_jitter(color = \"red\", alpha = 0.2)\n\n\n\n\n\n\n\n\nAutre exemple, on peut vouloir ajouter à un nuage de points une ligne de régression linéaire à l’aide de geom_smooth :\n\nggplot(rp, aes(x = dipl_sup, y = cadres)) +\n    geom_point(alpha = 0.2) +\n    geom_smooth(method = \"lm\")\n#&gt; `geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\nEt on peut même superposer une troisième visualisation de la répartition des points dans l’espace avec geom_density2d :\n\nggplot(rp, aes(x = dipl_sup, y = cadres)) +\n    geom_point(alpha = 0.2) +\n    geom_density2d(color = \"red\") +\n    geom_smooth(method = \"lm\")\n#&gt; `geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\nOn peut enfin superposer l’histogramme ainsi que le polygone de fréquences.\n\nggplot(rp) +\n    geom_histogram(aes(x = cadres), binwidth = 5) +\n    geom_freqpoly(aes(x = cadres), binwidth = 5)",
    "crumbs": [
      "Les statistiques descriptives",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Les graphiques</span>"
    ]
  },
  {
    "objectID": "ggplot2.html#faceting",
    "href": "ggplot2.html#faceting",
    "title": "4  Les graphiques",
    "section": "4.6 Faceting",
    "text": "4.6 Faceting\nLe faceting permet d’effectuer plusieurs fois le même graphique selon les valeurs d’une ou plusieurs variables qualitatives.\nPar exemple, on a vu qu’on peut représenter l’histogramme du pourcentage de cadres dans nos communes avec le code suivant :\n\nggplot(data = rp) +\n    geom_histogram(aes(x = cadres))\n\n\n\n\n\n\n\n\nOn souhaite comparer cette distribution de la part des cadres selon le département, et donc faire un histogramme pour chacun de ces départements. C’est ce que permettent les fonctions facet_wrap et facet_grid.\nfacet_wrap prend un paramètre de la forme vars(variable), où variable est le nom de la variable en fonction de laquelle on souhaite faire les différents graphiques. Ceux-ci sont alors affichés les uns à côté des autres et répartis automatiquement dans la page.\n\nggplot(data = rp) +\n    geom_histogram(aes(x = cadres)) +\n    facet_wrap(vars(departement))\n\n\n\n\n\n\n\n\nPour facet_grid, les graphiques sont disposés selon une grille. La fonction prend alors deux arguments, rows et cols, auxquels on passe les variables à afficher en ligne ou en colonne via la fonction vars().\n\nggplot(data = rp) +\n    geom_histogram(aes(x = cadres)) +\n    facet_grid(rows = vars(departement))\n\n\n\n\n\n\n\n\nUn des intérêts du faceting dans ggplot2 est que tous les graphiques générés ont les mêmes échelles, ce qui permet une comparaison directe.\nEnfin, notons qu’on peut même faire du faceting sur plusieurs variables à la fois. On peut par exemple faire des histogrammes de la répartition de la part des cadres pour chaque croisement des variables departement et pop_cl :\n\nggplot(data = rp) +\n    geom_histogram(aes(x = cadres)) +\n    facet_grid(\n        rows = vars(departement), cols = vars(pop_cl)\n    )\n\n\n\n\n\n\n\n\nL’histogramme en haut à gauche représente la répartition du pourcentage de cadres parmi les communes de 2000 à 3000 habitants dans les Bouches-du-Rhône, etc.",
    "crumbs": [
      "Les statistiques descriptives",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Les graphiques</span>"
    ]
  },
  {
    "objectID": "ggplot2.html#ressources",
    "href": "ggplot2.html#ressources",
    "title": "4  Les graphiques",
    "section": "4.7 Ressources",
    "text": "4.7 Ressources\nLa documentation officielle (en anglais) de ggplot2 est très complète et accessible en ligne.\nUne “antisèche” (en anglais) résumant en deux pages l’ensemble des fonctions et arguments et disponible soit directement depuis RStudio (menu Help &gt; Cheatsheets &gt; Data visualization with ggplot2) ou en ligne.\nLes parties Data visualisation et Graphics for communication de l’ouvrage en ligne R for data science, de Hadley Wickham, sont une très bonne introduction à ggplot2.\nPlusieurs ouvrages, toujours en anglais, abordent en détail l’utilisation de ggplot2, en particulier ggplot2: Elegant Graphics for Data Analysis, toujours de Hadley Wickham, et le R Graphics Cookbook de Winston Chang.\nLe site associé à ce dernier ouvrage comporte aussi pas mal d’exemples et d’informations intéressantes.\nEnfin, si ggplot2 présente déjà un très grand nombre de fonctionnalités, il existe aussi un système d’extensions permettant d’ajouter des geom, des thèmes, etc. Le site ggplot2 extensions est une très bonne ressource pour les parcourir et les découvrir, notamment grâce à sa galerie.",
    "crumbs": [
      "Les statistiques descriptives",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Les graphiques</span>"
    ]
  },
  {
    "objectID": "mesures.html",
    "href": "mesures.html",
    "title": "5  Les mesures",
    "section": "",
    "text": "5.1 Les mesures de tendance centrale",
    "crumbs": [
      "Les statistiques descriptives",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Les mesures</span>"
    ]
  },
  {
    "objectID": "mesures.html#les-mesures-de-tendance-centrale",
    "href": "mesures.html#les-mesures-de-tendance-centrale",
    "title": "5  Les mesures",
    "section": "",
    "text": "5.1.1 Le mode\nLe mode est la modalité, valeur ou classe possédant la plus grande fréquence. En d’autres mots, c’est la donnée la plus fréquente.\nPuisque le mode se préoccupe seulement de la donnée la plus fréquente, il n’est pas influencé par les valeurs extrêmes.\nLorsque le mode est une classe, il est appelé classe modale.\nLe mode est noté Mo.\nLe langage R ne possède pas de fonction permettant de calculer le mode. La façon la plus simple de le calculer est d’utiliser la fonction table de R.\nPar exemple, si nous voulons connaître le mode de la variable marital de la base de données gss_cat:\n\ntable(gss_cat$marital)\n#&gt; \n#&gt;     No answer Never married     Separated      Divorced       Widowed \n#&gt;            17          5416           743          3383          1807 \n#&gt;       Married \n#&gt;         10117\n\nNous remarquons que le maximum est à la modalité Married avec une fréquence de 10117.\nSi nous nous intéressons au mode d’une variable quantitative discrète comme age de la base de données gss_cat nous obtenons:\n\ntable(gss_cat$age)\n#&gt; \n#&gt;  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36  37 \n#&gt;  91 249 251 278 298 361 344 396 400 385 387 376 433 407 445 425 425 417 428 438 \n#&gt;  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54  55  56  57 \n#&gt; 426 415 452 434 405 448 432 404 422 435 424 417 430 390 400 396 387 365 384 321 \n#&gt;  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72  73  74  75  76  77 \n#&gt; 326 323 338 307 310 292 253 259 231 271 205 201 213 206 189 152 180 179 171 137 \n#&gt;  78  79  80  81  82  83  84  85  86  87  88  89 \n#&gt; 150 135 127 119 105  99 100  75  74  54  57 148\n\nNous remarquons que le maximum est à la valeur 40 avec une fréquence de 452.\nDans le cas d’une variable quantitative continue, pour calculer le mode, il faut commencer par séparer les données en classes. Nous utiliserons les mêmes classes utilisées à la section:\n\ncarat_class = cut(diamonds$carat,\n                  breaks = seq(from = 0, to = 6, by = 1),\n                  right = FALSE)\ntable(carat_class)\n#&gt; carat_class\n#&gt; [0,1) [1,2) [2,3) [3,4) [4,5) [5,6) \n#&gt; 34880 16906  2114    34     5     1\n\nLa classe modale est donc la classe [0,1) avec une fréquence de 34880.\n\n\n5.1.2 La médiane\nLa médiane, notée Md, est la valeur qui sépare une série de données classée en ordre croissant en deux parties égales.\nLa médiane étant la valeur du milieu, elle est la valeur où le pourcentage cumulé atteint 50%.\nPuisque la médiane se préoccupe seulement de déterminer où se situe le centre des données, elle n’est pas influencée par les valeurs extrêmes. Elle est donc une mesure de tendance centrale plus fiable que la moyenne.\n\nImportant : La médiane n’est définie que pour les variables quantitatives. En effet, si vous tentez d’utiliser la médiane pour des données autres que numériques, R vous donnera un message d’erreur.\n\nLa fonction median permet de calculer la médiane en langage R.\nPar exemple, pour calculer la médiane de la variable carat de la base de données diamonds, nous avons:\n\nmedian(diamonds$carat)\n#&gt; [1] 0.7\n\nCeci signifie que 50% des diamants ont une valeur en carat inférieure ou égale à 0.7 et que 50% des diamants ont une valeur en carat supérieure ou égale à 0.7.\nNous pouvons aussi obtenir que la médiane de la variable price de la base de données diamonds est donnée par:\n\nmedian(diamonds$price)\n#&gt; [1] 2401\n\n\n\n5.1.3 La moyenne\nLa moyenne est la valeur qui pourrait remplacer chacune des données d’une série pour que leur somme demeure identique. Intuitivement, elle représente le centre d’équilibre d’une série de données. La somme des distances qui sépare les données plus petites que la moyenne devrait être la même que la somme des distances qui sépare les données plus grandes.\n\nImportant : La moyenne n’est définie que pour les variables quantitatives. En effet, si vous tentez d’utiliser la moyenne pour des données autres que numériques, R vous donnera un message d’erreur.\n\nLa fonction mean permet de calculer la moyenne en langage R.\nPar exemple, pour calculer la moyenne de la variable carat de la base de données diamonds, nous avons:\n\nmean(diamonds$carat)\n#&gt; [1] 0.7979397\n\nNous pouvons aussi obtenir que la moyenne de la variable price de la base de données diamonds est donnée par:\n\nmean(diamonds$price)\n#&gt; [1] 3932.8",
    "crumbs": [
      "Les statistiques descriptives",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Les mesures</span>"
    ]
  },
  {
    "objectID": "mesures.html#les-mesures-de-dispersion",
    "href": "mesures.html#les-mesures-de-dispersion",
    "title": "5  Les mesures",
    "section": "5.2 Les mesures de dispersion",
    "text": "5.2 Les mesures de dispersion\nLes mesures de tendance centrale (mode, moyenne et médiane) ne permettent pas de déterminer si une série de données est principalement située autour de son centre, ou si au contraire elle est très dispersée.\nLes mesures de dispersion, elles, permettent de déterminer si une série de données est centralisée autour de sa moyenne, ou si elle est au contraire très dispersée.\nLes mesures de dispersion sont l’étendue, la variance, l’écart-type et le coefficient de variation.\n\n5.2.1 L’étendue\nLa première mesure de dispersion, l’étendue, est la différence entre la valeur maximale et la valeur minimale.\nL’étendue ne tenant compte que du maximum et du minimum, elle est grandement influencée par les valeurs extrêmes. Elle est donc une mesure de dispersion peu fiable.\nLa fonction range permet de calculer l’étendue d’une variable en langage R.\nPar exemple, pour calculer l’étendue de la variable carat de la base de données diamonds, nous avons:\n\nrange(diamonds$carat)\n#&gt; [1] 0.20 5.01\n\nNous pouvons donc calculer l’étendue de la variable carat en soustrayant les deux valeurs obtenues par la fonction range, c’est-à-dire que l’étendue est 5.01-0.2 = 4.81.\n\n\n5.2.2 La variance\nLa variance sert principalement à calculer l’écart-type, la mesure de dispersion la plus connue.\n\nAttention : Les unités de la variance sont des unités2.\n\nLa fonction var permet de calculer la variance d’une variable en langage R.\nPar exemple, pour calculer la variance de la variable carat de la base de données diamonds, nous avons:\n\nvar(diamonds$carat)\n#&gt; [1] 0.2246867\n\nCeci signifie que la variance de la variable carat est 0.2246867 carat2.\n\n\n5.2.3 L’écart-type\nL’écart-type est la mesure de dispersion la plus couramment utilisée. Il peut être vu comme la « moyenne » des écarts entre les données et la moyenne.\nPuisque l’écart-type tient compte de chacune des données, il est une mesure de dispersion beaucoup plus fiable que l’étendue.\nIl est défini comme la racine carrée de la variance.\nLa fonction sd permet de calculer l’’écart-type d’une variable en langage R.\nPar exemple, pour calculer l’écart-type de la variable carat de la base de données diamonds, nous avons:\n\nsd(diamonds$carat)\n#&gt; [1] 0.4740112\n\nCeci signifie que l’écart-type de la variable carat est 0.4740112 carat.\n\n\n5.2.4 Le coefficient de variation\nLe coefficient de variation, noté C. V., est calculé comme suit :\n\\[\\begin{equation}\nC.V. = \\dfrac{\\text{ecart-type}}{\\text{moyenne}}\\times 100\\%\n\\end{equation}\\]\nSi le coefficient est inférieur à 15%, les données sont dites homogènes. Cela veut dire que les données sont situées près les unes des autres.\nDans le cas contraire, les données sont dites hétérogènes. Cela veut dire que les données sont très dispersées.\n\nImportant : Le coefficient de variation ne possède pas d’unité, outre le symbole de pourcentage.\n\nIl n’existe pas de fonctions en R permettant de calculer directement le coefficient de variation. Par contre, nous pouvons utiliser en conjonction les fonctions sd et mean pour le calculer.\nPar exemple, pour calculer le coefficient de variation de la variable carat de la base de données diamonds, nous avons:\n\nsd(diamonds$carat)/mean(diamonds$carat)*100\n#&gt; [1] 59.40439\n\nLe C.V. de la variable carat est donc 59.4043906 %, ce qui signifie que les données sont hétérogènes, car le coefficient de variation est plus grand que 15%.",
    "crumbs": [
      "Les statistiques descriptives",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Les mesures</span>"
    ]
  },
  {
    "objectID": "mesures.html#les-mesures-de-position",
    "href": "mesures.html#les-mesures-de-position",
    "title": "5  Les mesures",
    "section": "5.3 Les mesures de position",
    "text": "5.3 Les mesures de position\nLes mesures de position permettent de situer une donnée par rapport aux autres. Les différentes mesures de position sont la cote Z, les quantiles et les rangs.\nTout comme les mesures de dispersion, celles-ci ne sont définies que pour une variable quantitative.\n\n5.3.1 La cote z\nCette mesure de position se base sur la moyenne et l’écart-type.\nLa cote Z d’une donnée x est calculée comme suit :\n\\[\\begin{equation}\nZ = \\dfrac{x-\\text{moyenne}}{\\text{ecart-type}}\n\\end{equation}\\]\n\nImportant : La cote z ne possède pas d’unités.\n\nUne cote Z peut être positive, négative ou nulle.\n\n\n\nCote Z\nInterprétation\n\n\n\n\nZ&gt;0\ndonnée supérieure à la moyenne\n\n\nZ&lt;0\ndonnée inférieure à la moyenne\n\n\nZ=0\ndonnée égale à la moyenne\n\n\n\nIl n’existe pas de fonctions en R permettant de calculer directement la cote Z. Par contre, nous pouvons utiliser en conjonction les fonctions sd et mean pour la calculer.\nPar exemple, si nous voulons calculer la cote Z d’un diamant de 3 carats, nous avons:\n\n(3-mean(diamonds$carat))/sd(diamonds$carat)\n#&gt; [1] 4.645587\n\n\n\n5.3.2 Les quantiles\nUn quantile est une donnée qui correspond à un certain pourcentage cumulé.\nParmi les quantiles, on distingue les quartiles, les quintiles, les déciles et les centiles.\n\nLes quartiles Q1, Q2 et Q3, séparent les données en quatre parties égales. Environ 25% des données sont inférieures ou égales à Q1. Environ 50% des données sont inférieures ou égales à Q2. Environ 75% des données sont inférieures ou égales à Q3.\nLes quintiles V1, V2, V3 et V4, séparent les données en cinq parties égales. Environ 20% des données sont inférieures ou égales à V1. Environ 40% des données sont inférieures ou égales à V2. Etc.\nLes déciles D1, D2, …, D8 et D9, séparent les données en dix parties égales. Environ 10% des données sont inférieures ou égales à D1. Environ 20% des données sont inférieures ou égales à D2. Etc.\nLes centiles C1, C2, …, C98 et C99, séparent les données en cent parties égales. Environ 1% des données sont inférieures ou égales à C1. Environ 2% des données sont inférieures ou égales à C2. Etc.\n\n\nIl est utile de noter que certains quantiles se recoupent.\n\nLa fonction quantile permet de calculer n’importe quel quantile d’une variable en langage R. Il suffit d’indiquer la variable étudiée ainsi que le pourcentage du quantile voulu.\nPar exemple, si nous voulons calculer D1 pour la variable carat, nous allons utiliser la fonction quantile avec une probabilité de 0,1.\n\nquantile(diamonds$carat, 0.1)\n#&gt;  10% \n#&gt; 0.31\n\nCeci implique que 10% des diamants ont une valeur en carat inférieure ou égale à 0.31 carat.\nNous pouvons calculer le troisième quartile Q3 de la variable price en utilisant la fonction quantile avec une probabilité de 0,75.\n\nquantile(diamonds$price, 0.75)\n#&gt;     75% \n#&gt; 5324.25\n\nCeci implique que 75% des diamants ont un prix en dollars inférieur ou égal à 5324.25 $.\n\n\n5.3.3 La commande summary\nLa commande summary produit un sommaire contenant six mesures importantes:\n\nMin : le minimum de la variable\n1st Qu.: Le premier quartile, Q1, de la variable\nMedian : La médiane de la variable\nMean : La moyenne de la variable\n3rd Qu. : Le troisième quartile, Q3, de la variable\nMax : Le maximum de la variable\n\nNous pouvons donc produire le sommaire de la variable price de la base de données diamonds de la façon suivante:\n\nsummary(diamonds$price)\n#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n#&gt;     326     950    2401    3933    5324   18823\n\n\n\n5.3.4 Le rang centile\nUn rang centile représente le pourcentage cumulé, exprimé en nombre entier, qui correspond à une certaine donnée. Nous déterminerons les rangs centiles pour les variables continues seulement.\nLes rangs centiles sont donc exactement l’inverse des centiles.\nIl n’existe pas de fonctions dans R permettant de trouver directement le rang centile, mais il est facile d’utiliser la fonction mean pour le trouver.\nPar exemple, si nous voulons trouver le rang centile d’un diamant qui coûte 500$, il suffit d’utiliser la commande suivante. La commande calcule la moyenne de toutes les valeurs en dollars des diamants coûtant 500$ ou moins.\n\nfloor(mean(diamonds$price&lt;=500)*100)\n#&gt; [1] 3\n\nCeci signifie que pour un diamant de 500$, il y a 3 % des diamants qui ont une valeur égale ou inférieure.",
    "crumbs": [
      "Les statistiques descriptives",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Les mesures</span>"
    ]
  },
  {
    "objectID": "estimation.html",
    "href": "estimation.html",
    "title": "6  L’estimation de paramètres",
    "section": "",
    "text": "6.1 L’intervalle de confiance sur une moyenne\nPour trouver un intervalle de confiance sur une moyenne, nous utilisons la fonction t_test.\nLes quatres arguments nécessaires sont:\nPar exemple, si on veut trouver un intervalle de confiance à 95% pour la moyenne de la variable age, nous utilisons:\nt_test( x = gss, \n        response = age, \n        alternative = \"two-sided\", \n        conf_level = 0.95)\n#&gt; # A tibble: 1 × 7\n#&gt;   statistic  t_df   p_value alternative estimate lower_ci upper_ci\n#&gt;       &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;\n#&gt; 1      67.6   499 2.42e-253 two.sided       40.3     39.1     41.4\nLa borne inférieure de l’intervalle de confiance est donnée par la variable lower_ci et la borne supérieure par la variable upper_ci. Dans notre test, nous avons donc un intervalle de confiance entre 39.095674 et 41.436326.",
    "crumbs": [
      "L'estimation et les tests d'hypothèses",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>L'estimation de paramètres</span>"
    ]
  },
  {
    "objectID": "estimation.html#lintervalle-de-confiance-sur-une-moyenne",
    "href": "estimation.html#lintervalle-de-confiance-sur-une-moyenne",
    "title": "6  L’estimation de paramètres",
    "section": "",
    "text": "x: la base de données à utiliser, sous forme de tibble.\nresponse: la variable quantitative dont on veut connaître l’intervalle de confiance pour la moyenne.\nalternative: pour un intervalle de confiance, on utilise toujours la valeur two-sided.\nconf_level: un niveau de confiance entre 0 et 1.",
    "crumbs": [
      "L'estimation et les tests d'hypothèses",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>L'estimation de paramètres</span>"
    ]
  },
  {
    "objectID": "estimation.html#lintervalle-de-confiance-sur-une-proportion",
    "href": "estimation.html#lintervalle-de-confiance-sur-une-proportion",
    "title": "6  L’estimation de paramètres",
    "section": "6.2 L’intervalle de confiance sur une proportion",
    "text": "6.2 L’intervalle de confiance sur une proportion\nPour trouver un intervalle de confiance sur une proportion, nous utilisons la fonction prop_test.\nLes cinq arguments nécessaires sont:\n\nx: la base de données à utiliser, sous forme de tibble.\nresponse: la variable quantitative dont on veut connaître l’intervalle de confiance pour la proportion.\nsuccess: la modalité de la variable que nous considérons comme un succès.\nalternative: pour un intervalle de confiance, on utilise toujours la valeur two-sided.\nconf_level: un niveau de confiance entre 0 et 1.\n\nPar exemple, si on veut trouver un intervalle de confiance à 95% pour la proportion de female de la variable age, nous utilisons:\n\nprop_test(  x = gss, \n            response = sex, \n            success = \"female\",\n            alternative = \"two-sided\", \n            conf_level = 0.95)\n#&gt; No `p` argument was hypothesized, so the test will assume a null hypothesis `p\n#&gt; = .5`.\n#&gt; # A tibble: 1 × 6\n#&gt;   statistic chisq_df p_value alternative lower_ci upper_ci\n#&gt;       &lt;dbl&gt;    &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;    &lt;dbl&gt;\n#&gt; 1      1.25        1   0.264 two.sided      0.430    0.519\n\n\n#&gt; No `p` argument was hypothesized, so the test will assume a null hypothesis `p\n#&gt; = .5`.\n\nLa borne inférieure de l’intervalle de confiance est donnée par la variable lower_ci et la borne supérieure par la variable upper_ci. Dans notre test, nous avons donc un intervalle de confiance entre 0.4296103 et 0.5187952.",
    "crumbs": [
      "L'estimation et les tests d'hypothèses",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>L'estimation de paramètres</span>"
    ]
  },
  {
    "objectID": "tests-hypotheses.html",
    "href": "tests-hypotheses.html",
    "title": "7  Les tests d’hypothèses",
    "section": "",
    "text": "7.1 Les tests d’hypothèses sur une moyenne\nPour effectuer un test d’hypothèses sur une moyenne, nous utilisons la fonction t_test.\nLes quatres arguments nécessaires sont:\nPar exemple, si on veut tester si la moyenne de la variable age est plus grande que 39 ans, à un niveau de confiance de 98%, nous utilisons:\nt_test( x = gss,\n        response = age,\n        mu = 39,\n        alternative = \"greater\"\n)\n#&gt; # A tibble: 1 × 7\n#&gt;   statistic  t_df p_value alternative estimate lower_ci upper_ci\n#&gt;       &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;\n#&gt; 1      2.13   499  0.0170 greater         40.3     39.3      Inf\nLa variable p_value nous permet de conserver ou de rejetter \\(H_0\\). En effet, dans notre cas, la valeur est de 0.0170242 qui est plus petite que le risque d’erreur de 2% (associé au niveau de confiance de 98%). On rejette donc \\(H_0\\) et on accepte \\(H_1\\), l’âge moyen est plus grand que 39 ans.",
    "crumbs": [
      "L'estimation et les tests d'hypothèses",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Les tests d'hypothèses</span>"
    ]
  },
  {
    "objectID": "tests-hypotheses.html#les-tests-dhypothèses-sur-une-moyenne",
    "href": "tests-hypotheses.html#les-tests-dhypothèses-sur-une-moyenne",
    "title": "7  Les tests d’hypothèses",
    "section": "",
    "text": "x: la base de données à utiliser, sous forme de tibble.\nresponse: la variable quantitative dont on veut tester l’hypothèse.\nmu: la valeur de la moyenne à l’hypothèse \\(H_0\\).\nalternative:\n\nless: pour un test unilatéral à gauche\ntwo-sided: pour un test bilatéral\ngreater: pour un test unilatéral à droite",
    "crumbs": [
      "L'estimation et les tests d'hypothèses",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Les tests d'hypothèses</span>"
    ]
  },
  {
    "objectID": "tests-hypotheses.html#les-tests-dhypothèses-sur-une-proportion",
    "href": "tests-hypotheses.html#les-tests-dhypothèses-sur-une-proportion",
    "title": "7  Les tests d’hypothèses",
    "section": "7.2 Les tests d’hypothèses sur une proportion",
    "text": "7.2 Les tests d’hypothèses sur une proportion\nPour effectuer un test d’hypothèses sur une proportion, nous utilisons la fonction prop_test.\nLes quatres arguments nécessaires sont:\n\nx: la base de données à utiliser, sous forme de tibble.\nresponse: la variable quantitative dont on veut connaître l’intervalle de confiance pour la proportion.\nsuccess: la modalité de la variable que nous considérons comme un succès.\nalternative:\n\nless: pour un test unilatéral à gauche\ntwo-sided: pour un test bilatéral\ngreater: pour un test unilatéral à droite\n\n\nPar exemple, si on veut tester si la moyenne de la variable age est plus grande que 39 ans, à un niveau de confiance de 98%, nous utilisons:\n\nprop_test(  x = gss, \n            response = sex, \n            success = \"female\",\n            alternative = \"less\", \n            p = 0.51)\n#&gt; # A tibble: 1 × 4\n#&gt;   statistic chisq_df p_value alternative\n#&gt;       &lt;dbl&gt;    &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;      \n#&gt; 1      2.45        1  0.0587 less",
    "crumbs": [
      "L'estimation et les tests d'hypothèses",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Les tests d'hypothèses</span>"
    ]
  }
]